<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- JavaScript Bundle with Popper -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="../static/register.css">

    <script>
       function register() {
                $.ajax({
                    type: "POST",
                    url: "/api/register",
                    data: {
                        id_give: $('#userid').val(),
                        pw_give: $('#userpw').val(),
                        nickname_give: $('#usernick').val()
                    },
                    success: function (response) {
                        if (response['result'] == 'success') {
                            alert('회원가입이 완료되었습니다.')
                            window.location.href = '/login'
                        } else {
                            alert(response['msg'])
                        }
                    }
                })
            }
    </script>



  </head>
  <body>
     <div class="login-box">
      <h1 class="title">wishtree</h1>


      <!--------------Signup-------------->

      <form id="signup_form">
        <div class="form-floating mb-3">
          <input
            type="email"
            class="form-control input"
            id="userid"
            placeholder="Email"
          />
        </div>
        <div class="form-floating">
          <input
            type="password"
            class="form-control input"
            id="userpw"
            placeholder="Password"
          />
        </div>
        <div class="form-floating mb-3">
          <input
            type="text"
            class="form-control input"
            id="usernick"
            placeholder="닉네임"
          />
        </div>
      </form>

      <div class="btn-box">
        <button id="signup_btn" class="login-btn" onclick="register()">회원가입</button>
      </div>
      <h2 class="link_2_login" onclick="location.href='/login'">&#10094; 로그인 페이지로 돌아가기 </h2>
    </div>
    <script src="../static/register.js"></script>
  </body>
</html>