<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Slab:wght@600;700&display=swap" rel="stylesheet">


    <title>Wish List</title>

    <style> /* */
    /* */
    * {
        font-family: 'Josefin Slab', serif;
        box-sizing: border-box;
        cursor: default;
    }

    .mypic { /* Î∞±Í∑∏ÎùºÏö¥Îìú ÏÇ¨ÏßÑ */
        background-image: linear-gradient(
                0deg,
                rgba(121, 146, 228, 0.705),
                rgba(0, 0, 0, 0)
        ),
        url("https://nationaltoday.com/wp-content/uploads/2020/12/Christmas-Eve-2.jpg");
        background-position: center;
        background-size: cover;
        object-fit: cover;

        width: 100%;
        height: 300px;

        color: white;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        border-bottom: 1.5px solid rgb(72, 72, 193);

        margin-bottom: 50px;
    }

    /* Î∞∞ÎÑà text box */

    .mypic_txt {
        width: 80%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: relative;
        top: 80px;
    }


    /* Î∞∞ÎÑà txt - left */

    .mypic_txt > h1 {
        /* Î∞±Í∑∏ÎùºÏö¥Îìú ÏÇ¨ÏßÑÏïàÏóê Í∏ÄÏûê"Wish List" */
        font-size: 47px;
        color: darkturquoise;
        text-align: left;
        font-weight: 700;
    }


    /* Î∞∞ÎÑà txt - right */
    .mypic_txt_lo {
        align-items: right;
        display: flex;
        align-items: center;
    }


    /* Î∞∞ÎÑà txt - right - clock */
    .lo_clock {
        padding-right: 50px;
        font-size: 30px;
    }


    /* Î∞∞ÎÑà txt - right - weather */
    .lo_weather {
        display: flex;
        align-items: center;
    }

    .lo_weather_img {
        padding-right: 10px;
    }

    .lo_weather_icon {
        width: 80px;
        height: 80px;
    }

    .lo_weather_info {
        display: flex;
        flex-direction: column;
    }


    /* ÏÜåÏõê ÏûÖÎ†• ÎûÄ (main) */
    main {
        margin: 20px 80px 0px 80px;
    }

    .content-wrap {
        display: flex;
    }

    .main-list {
        flex-basis: 40%;
    }


    .mybox1 { /* ÏÜåÏõêÏ†ÅÍ∏∞Îûë input Ïπ∏*/
        /* width: 95%;
        max-width: 400px;
        padding: 20px;
        box-shadow: 0px 0px 10px 0px lightblue;
        margin: 20px auto;
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;*/
        width: 95%;
        max-width: 500px;
        padding: 20px;
        box-shadow: 0px 0px 10px 0px lightblue;
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 30px;
    }

    .mybox1 > input { /* */
        width: 80%;
    }

    .mybox2 {
        /* ÏûÖÎ†•Ìïú ÏÜåÏõêÎì§Í≥º Ï≤¥ÌÅ¨Î∞ïÏä§ÎûÄ*/
        width: 95%;
        max-width: 500px;
        padding: 20px;
        box-shadow: 0px 0px 10px 0px lightblue;
    }


    .mybox2 > h3 { /* "2023ÎÖÑ ÏÜåÏõê"*/
        font-size: 30px;
        text-align: left;
        margin-bottom: 20px;
    }

    .mybox2 > li { /* ÏûÖÎ†•Ìïú ÏÜåÏõêÎì§ */
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: flex-start;

        margin-bottom: 14px;
        min-height: 10px;
    }

    .mybox2 > li > h4 {
        max-width: 75%;
        font-size: 18px;
        font-weight: 600;
        margin-right: auto;
        margin-bottom: 0px;
    }

    .wish_done {
        text-decoration: line-through;
    }

    .mybtn {
        padding-top: 30px;
    }


    * ------ main: tree ------ *

    /

    .main-tree {
        flex-basis: 60%;
        position: relative;
    }


    .main-tree_img {
        object-fit: cover;
        max-width: 60%;
        margin-left: 200px;
        position: relative;
    }
    </style>

    <script>
        $(document).ready(function () {
            show_wish();
        });

        function show_wish() {
            $.ajax({
                type: "GET",
                url: "/wish",
                data: {},
                success: function (response) {
                    let rows = response['wishes']
                    for (let i = 0; 0 < rows.length; i++) {
                        let wish = rows[i]['wish']
                        let num = rows[i]['num']
                        let done = rows[i]['done']
                        let id = rows[i]['id']

                        if (window.location.pathname === id) {
                            let temp_html = ``
                            if (done == 0) {
                                temp_html = `<li>
                                                 <h4>‚¨ú ${wish} </h4>
                                                 <button onclick="done_wish(${num})" type="text" class="btn btn-outline-primary">ÏôÑÎ£å!</button>
                                              </li>`
                            } else {
                                temp_html = ` <li>
                                                 <h4 class="wish_done">‚úÖ${wish} </h4>
                                              </li>`
                            }
                            $('#wish-list').append(temp_html)
                        }
                    }
                }
            });
        }

        function done_wish(num) {
            $.ajax({
                type: "POST",
                url: "/wish/done",
                data: {num_give: num},
                success: function (response) {
                    alert(response["msg"])
                    window.location.reload()
                }
            });
        }


        function save_wish() {
            let id = window.location.pathname;
            let wish = $('#wish').val();
            $.ajax({
                type: "POST",
                url: "/wish",
                data: {
                    wish_give: wish,
                    id_give: id
                },

                success: function (response) {
                    alert('ÏÜåÏõêÎπåÍ∏∞ ÏôÑÎ£å!')
                    window.location.reload()
                }
            })
        }
    </script>


</head>
<body> <!-- -->
<header class="mypic">
    <div class="mypic_txt">
        <h1>Wish List</h1>
        <div class="mypic_txt_lo">
            <h2 class="lo_clock" id="clock">00:00:00</h2>
            <!--            <div id="weather" class="lo_weather">-->
            <!--                <img-->
            <!--                        class="lo_weather_img lo_weather_icon"-->
            <!--                        src=""-->
            <!--                        alt="weather_ICON"-->
            <!--                />-->
            <!--            </div>-->
            <div id="weather" class="lo_weather">
                <div class="lo_weather_img">
                    <img class="lo_weather_icon" src="" alt="weather_ICON"/>
                </div>
                <div class="lo_weather_info">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </div>
    <!-- <div style="position: relative; right: 400px" class="mybox1"> -->
</header>

<main>
    <div class="content-wrap">
        <div class="main-list">
            <div class="mybox1">
                <input id="wish" class="form-control" type="text" placeholder="ÏÜåÏõê Ï†ÅÍ∏∞">
                <button onclick="save_wish()" class="btn btn-outline-primary">ÏóêÏù¥Îß®!</button>
            </div>


            <div class="mybox2" id="wish-list">
                <h3>üê∞ 2023ÎÖÑ ÏÜåÏõê üê∞</h3>
                <!--<li>
                    <input onclick="done_wish()" type="checkbox" name="interest" checked />
                    <h2>Í±¥Í∞ïÌï¥ÏßÄÍ∏∞</h2>
                </li>-->
            </div><!-- -->


            <div class="mybtn" id="goTree">
                <a onclick="location.href='/goTree'">
                    <button class="btn btn-secondary">ÏπúÍµ¨ Ìä∏Î¶¨ ÎÜÄÎü¨Í∞ÄÍ∏∞</button>
                </a>
            </div>

        </div>


        <div class="main-tree">
            <img class="main-tree_img" src="https://i.ibb.co/CbQGVm4/tree.png"
                 alt="Christmas Tree">
        </div>

    </div>
    </div>
</main>
<!--    <script>-->
<!--        //ÏπúÍµ¨ Ìä∏Î¶¨ ÎÜÄÎü¨Í∞ÄÍ∏∞ Î≤ÑÌäº ÎàÑÎ•¥Î©¥ Îã§Î•∏ ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌïòÎäî Í∏∞Îä•-->
<!--        function toOthers() {-->
<!--            window.location.href = "goTree.html";-->
<!--        }-->
<!--    </script>-->
<script src="../static/weather.js"></script>
<script src="../static/clock.js"></script>
</body>
</html>